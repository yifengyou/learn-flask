# 管理员登陆

## 管理员登陆

![1547730311959.png](image/1547730311959.png)

![1547730370286.png](image/1547730370286.png)

![1547730474789.png](image/1547730474789.png)

* 优化代码结构

![1547730615230.png](image/1547730615230.png)

![1547730714885.png](image/1547730714885.png)

* 下载依赖包

![1547730891413.png](image/1547730891413.png)

![1547731080024.png](image/1547731080024.png)

![1547731110189.png](image/1547731110189.png)

![1547731258547.png](image/1547731258547.png)

* 完成表单验证，如何处理？

![1547731288700.png](image/1547731288700.png)

![1547731299589.png](image/1547731299589.png)

![1547731365171.png](image/1547731365171.png)

* 替换原有表单中的按钮

![1547731390671.png](image/1547731390671.png)

![1547731404357.png](image/1547731404357.png)

![1547731496253.png](image/1547731496253.png)

![1547731530653.png](image/1547731530653.png)

* 安全起见定义一个安全密钥

![1547731558116.png](image/1547731558116.png)

![1547731572785.png](image/1547731572785.png)

* 可以看到自动生成了input内容

![1547731598105.png](image/1547731598105.png)

* 可以看到隐藏的CSRF保护

![1547731687841.png](image/1547731687841.png)

![1547731714029.png](image/1547731714029.png)

![1547731755645.png](image/1547731755645.png)

## 用户名验证

![1547731857956.png](image/1547731857956.png)

![1547731871013.png](image/1547731871013.png)

* 已经进入数据库查询

## 密码验证

![1547731987324.png](image/1547731987324.png)


## 消息闪现

![1547732058933.png](image/1547732058933.png)

![1547732075503.png](image/1547732075503.png)

## session会话

![1547732091949.png](image/1547732091949.png)

![1547732151902.png](image/1547732151902.png)

![1547732209165.png](image/1547732209165.png)

![1547732220085.png](image/1547732220085.png)

![1547732244076.png](image/1547732244076.png)

## 如何进行访问控制？


![1547732284772.png](image/1547732284772.png)

* 退出删除session
* 退出session为嘛还能访问其他页面？


## 装饰器

![1547732331701.png](image/1547732331701.png)

![1547732426654.png](image/1547732426654.png)

![1547732446328.png](image/1547732446328.png)

![1547732466149.png](image/1547732466149.png)

![1547732470806.png](image/1547732470806.png)

![1547732479253.png](image/1547732479253.png)

![1547732542855.png](image/1547732542855.png)

* 没有haskey，但是依然可以登录
* 尴尬代码写错了

![1547732622550.png](image/1547732622550.png)




---
